<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geh√∂rbildungstrainer - Musik Abitur BW</title>
    <meta name="description" content="Interaktiver Geh√∂rbildungstrainer f√ºr das fachpraktische Abitur Baden-W√ºrttemberg Musik LK">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- Welcome Screen -->
        <div id="welcome-screen" class="screen active">
            <div class="container">
                <h1>üéµ Geh√∂rbildungstrainer</h1>
                <p class="subtitle">Fachpraktisches Abitur Baden-W√ºrttemberg ‚Ä¢ Musik Leistungskurs</p>
                
                <div class="exercise-grid">
                    <button class="exercise-card" onclick="startExercise('intervalle')">
                        <div class="card-icon">üéº</div>
                        <h2>Intervalle</h2>
                        <p>12 Intervalle erkennen</p>
                        <p style="margin-top: 0.5rem; font-size: 0.85rem;">Tonraum: g ‚Äì g¬≤</p>
                    </button>
                    
                    <button class="exercise-card" onclick="startExercise('akkorde')">
                        <div class="card-icon">üéπ</div>
                        <h2>Akkorde</h2>
                        <p>9 Akkordtypen bestimmen</p>
                        <p style="margin-top: 0.5rem; font-size: 0.85rem;">4-stimmig, Grundstellung</p>
                    </button>
                    
                    <button class="exercise-card" onclick="startExercise('rhythmus')">
                        <div class="card-icon">ü•Å</div>
                        <h2>Rhythmusdiktat</h2>
                        <p>4 Takte notieren</p>
                        <p style="margin-top: 0.5rem; font-size: 0.85rem;">4/4-Takt, Tempo ‚ô© = 60</p>
                    </button>
                </div>
            </div>
        </div>

        <!-- Intervalle Screen -->
        <div id="intervalle-screen" class="screen">
            <div class="container">
                <button class="back-button" onclick="goHome()">‚Üê Zur√ºck</button>
                
                <h1>Intervalle erkennen</h1>
                
                <div class="stats-bar">
                    <span>Richtig: <strong id="intervall-correct">0</strong></span>
                    <span>Falsch: <strong id="intervall-wrong">0</strong></span>
                    <span>Gesamt: <strong id="intervall-total">0</strong></span>
                </div>

                <div class="exercise-area">
                    <div class="info-box">
                        <p><strong>Tonraum:</strong> g bis g¬≤ (G3 bis G5)</p>
                        <p><strong>Diktiermodus:</strong> Erst einzeln, dann zusammen</p>
                    </div>

                    <div id="notation-intervall" class="notation-display"></div>
                    
                    <div class="controls">
                        <button class="btn-primary" id="play-intervall" onclick="playIntervall()">‚ñ∂ Abspielen</button>
                        <button class="btn-secondary" id="replay-intervall" onclick="playIntervall()" disabled>üîÑ Wiederholen</button>
                    </div>

                    <div class="answer-section" id="intervall-answer-section" style="display: none;">
                        <h3>Welches Intervall h√∂rst du?</h3>
                        <div class="button-grid">
                            <button class="answer-btn" onclick="checkIntervall('Kleine Sekunde')">Kleine Sekunde (k2)</button>
                            <button class="answer-btn" onclick="checkIntervall('Gro√üe Sekunde')">Gro√üe Sekunde (g2)</button>
                            <button class="answer-btn" onclick="checkIntervall('Kleine Terz')">Kleine Terz (k3)</button>
                            <button class="answer-btn" onclick="checkIntervall('Gro√üe Terz')">Gro√üe Terz (g3)</button>
                            <button class="answer-btn" onclick="checkIntervall('Reine Quarte')">Reine Quarte (r4)</button>
                            <button class="answer-btn" onclick="checkIntervall('Tritonus')">Tritonus</button>
                            <button class="answer-btn" onclick="checkIntervall('Reine Quinte')">Reine Quinte (r5)</button>
                            <button class="answer-btn" onclick="checkIntervall('Kleine Sexte')">Kleine Sexte (k6)</button>
                            <button class="answer-btn" onclick="checkIntervall('Gro√üe Sexte')">Gro√üe Sexte (g6)</button>
                            <button class="answer-btn" onclick="checkIntervall('Kleine Septime')">Kleine Septime (k7)</button>
                            <button class="answer-btn" onclick="checkIntervall('Gro√üe Septime')">Gro√üe Septime (g7)</button>
                            <button class="answer-btn" onclick="checkIntervall('Reine Oktave')">Reine Oktave (r8)</button>
                        </div>
                    </div>

                    <div class="feedback" id="intervall-feedback"></div>
                    
                    <button class="btn-primary" id="next-intervall" onclick="nextIntervall()" style="display: none;">N√§chstes Intervall ‚Üí</button>
                </div>
            </div>
        </div>

        <!-- Akkorde Screen -->
        <div id="akkorde-screen" class="screen">
            <div class="container">
                <button class="back-button" onclick="goHome()">‚Üê Zur√ºck</button>
                
                <h1>Akkorde erkennen</h1>
                
                <div class="stats-bar">
                    <span>Richtig: <strong id="akkord-correct">0</strong></span>
                    <span>Falsch: <strong id="akkord-wrong">0</strong></span>
                    <span>Gesamt: <strong id="akkord-total">0</strong></span>
                </div>

                <div class="exercise-area">
                    <div class="info-box">
                        <p><strong>Tonraum:</strong> g bis c¬≥ (G3 bis C6)</p>
                        <p><strong>Lage:</strong> Grundstellung, enge Lage, 4-stimmig</p>
                        <p><strong>Diktiermodus:</strong> Erst einzeln, dann zusammen</p>
                    </div>

                    <div id="notation-akkord" class="notation-display"></div>
                    
                    <div class="controls">
                        <button class="btn-primary" id="play-akkord" onclick="playAkkord()">‚ñ∂ Abspielen</button>
                        <button class="btn-secondary" id="replay-akkord" onclick="playAkkord()" disabled>üîÑ Wiederholen</button>
                    </div>

                    <div class="answer-section" id="akkord-answer-section" style="display: none;">
                        <h3>Welchen Akkord h√∂rst du?</h3>
                        <div class="button-grid">
                            <button class="answer-btn" onclick="checkAkkord('Durdreiklang')">Durdreiklang (D)</button>
                            <button class="answer-btn" onclick="checkAkkord('Molldreiklang')">Molldreiklang (M)</button>
                            <button class="answer-btn" onclick="checkAkkord('√úberm√§√üiger Dreiklang')">√úberm√§√üiger Dreiklang (√º)</button>
                            <button class="answer-btn" onclick="checkAkkord('D7')">D7</button>
                            <button class="answer-btn" onclick="checkAkkord('Dmaj7')">Dmaj7</button>
                            <button class="answer-btn" onclick="checkAkkord('M7')">M7</button>
                            <button class="answer-btn" onclick="checkAkkord('v7')">v7</button>
                            <button class="answer-btn" onclick="checkAkkord('D56')">D5/6</button>
                            <button class="answer-btn" onclick="checkAkkord('M56')">M5/6</button>
                        </div>
                    </div>

                    <div class="feedback" id="akkord-feedback"></div>
                    
                    <button class="btn-primary" id="next-akkord" onclick="nextAkkord()" style="display: none;">N√§chster Akkord ‚Üí</button>
                </div>
            </div>
        </div>

        <!-- Rhythmus Screen -->
        <div id="rhythmus-screen" class="screen">
            <div class="container">
                <button class="back-button" onclick="goHome()">‚Üê Zur√ºck</button>
                
                <h1>Rhythmusdiktat</h1>
                
                <div class="stats-bar">
                    <span>Gesamt: <strong id="rhythmus-total">0</strong></span>
                </div>

                <div class="exercise-area">
                    <div class="info-box">
                        <p><strong>Taktart:</strong> 4/4-Takt</p>
                        <p><strong>Umfang:</strong> 4 Takte</p>
                        <p><strong>Tempo:</strong> Viertel = ca. 60 BPM</p>
                        <p><strong>Elemente:</strong> Synkopen, Triolen, Punktierungen</p>
                        <p><em>Notiere den Rhythmus auf Notenpapier!</em></p>
                    </div>

                    <div id="notation-rhythmus" class="notation-display"></div>
                    
                    <div class="controls">
                        <button class="btn-primary" id="play-rhythmus" onclick="playRhythmus()">‚ñ∂ Vorz√§hlen + Takte 1-4</button>
                        <button class="btn-primary" id="continue-rhythmus" onclick="continueRhythmus()" style="display: none;">Weiter ‚ñ∂</button>
                    </div>

                    <div class="answer-section">
                        <button class="btn-primary" id="show-rhythmus-solution" onclick="showRhythmusSolution()" style="display: none;">L√∂sung anzeigen</button>
                    </div>

                    <div class="feedback" id="rhythmus-feedback"></div>
                    
                    <button class="btn-primary" id="next-rhythmus" onclick="nextRhythmus()" style="display: none;">Neuer Rhythmus ‚Üí</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <p><strong>¬© 2026 Jannik Herre</strong> ‚Ä¢ Alle Rechte vorbehalten</p>
        <p style="margin-top: 0.5rem;">
            Piano-Samples: <a href="https://github.com/gleitz/midi-js-soundfonts" target="_blank" rel="noopener">MIDI.js Soundfonts</a> (Acoustic Grand Piano)
        </p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/vexflow@4.2.3/build/cjs/vexflow.js"></script>
    <script src="js/audio.js"></script>
    <script src="js/notation.js"></script>
    <script src="js/intervalle.js"></script>
    <script src="js/akkorde.js"></script>
    <script src="js/rhythmus.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
